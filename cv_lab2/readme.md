# Задание
1.	Создать отдельную функцию, которая бы сглаживала одноканальное изображение при помощи фильтра по среднему значению пикселей внутри ядра размером 3х3 (в лекциях обозначен как box filter). Для этого рекомендуется использовать ОИ. Функция вычисления, однако, должна иметь возможность менять размер окна
2.	Проверить правильную работу созданной функции при помощи функции из OpenCV void blur(InputArray src, OutputArray dst, Size ksize). Для этого необходимо программно сравнить изображения, проверяя равенство каждого пикселя одного изображения другому пикселю. Для этого рекомендуется использовать способ The Core Function из ранее приведённой ссылки.  Вывести значение их схожести в виде процентов. Если схожесть 98%-100%, то твоя функция работает исправно. Отличие в немного % может объясняться тем, что вы не обработали рамку по краям изображения. Иногда эту рамку оставляют (как в нашем простом случае), иногда обрабатывают, достраивая дополнительные пиксели или беря их с других участков изображения. Необходимо вывести оба изображения.

3.	Измерить время работы каждой функции и вывести его в консоль. Вывести результат измерений 

4.	Отфильтровать изображение функцией Гаусса и сравнить результат с box filter. Субъективно оценить качество изображения. Вывести оба изображения и сравнить их путем наложения и вывода разности двух фильтраций. Улучшить отображение выведенной разницы применив логарифмическое преобразование изображений.

5.	Реализовать unsharp mask с фильтром Гаусса и Box фильтром. Оба фильтра необходимо применить с одинаковым коэффициентом резкости (см. выше). Сравнить оба изображения путем наложения и вывода разностного изображения.

6.	Реализовать фильтр Лапласа (руками, свой). Вывести результат. 

7.	Реализовать unsharp mask с фильтром Лапласа. Вывести результат и сравнить с п.5.

# Отчет

Для реализации свертки использовалась ОИ. В качестве типа границы выбран BORDER_REFLECT101. Исходное изображение - lenna.png.

1.	Работа собственной функции box-фильтра 3х3
![img](./images/img.jpg)
![custom_blur_img](./images/custom_blur_img.jpg)

2.	Проверка работы фильтра сглаживания (схожесть: 99.731%)
![opencv_blur_img](./images/opencv_blur_img.jpg)
![custom_blur_img](./images/custom_blur_img.jpg)
![blur_diff_img](./images/blur_diff_img.jpg)


3.	Время работы:
Custom blur ticks: 1885289
OpenCV blur ticks: 2637 

4.	Сравнение сглаживания по Гауссу и Box фильтра.
![opencv_blur_img](./images/opencv_blur_img.jpg)
![opencv_gaussian_blur_img](./images/opencv_gaussian_blur_img.jpg)
![gaussian_box_diff_img](./images/gaussian_box_diff_img.jpg)

5.	Сравнение unsharp mask с фильтром Гаусса и Box фильтром. 
![gauss_unsharp_img](./images/gauss_unsharp_img.jpg)
![box_unsharp_img](./images/box_unsharp_img.jpg)
![diff_img](./images/diff_img.jpg)

6.	Фильтр Лапласа.
 ![laplace_img](./images/laplace_img.jpg)

7.	Unsharp mask с фильтром Лапласа и сравнение с п.5.
![laplace_unsharp_img](./images/laplace_unsharp_img.jpg)
![box_laplace_diff_img](./images/box_laplace_diff_img.jpg)
![gauss_laplace_diff_img](./images/gauss_laplace_diff_img.jpg)